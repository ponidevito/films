function togglePasswordVisibility(){let e=document.querySelector(".modal__checkbox");var o=document.getElementById("password"),t=document.getElementById("showPassword");t.checked=!t.checked,t.checked?(e.classList.add("changeColor"),o.type="text"):(e.classList.remove("changeColor"),o.type="password")}if("Додати фільм"===document.title){const e={apiKey:"AIzaSyCL7wAwDtfMIDshLv4_aZLD0QXbC_BEBFo",authDomain:"cinema-collection-ce9ba.firebaseapp.com",projectId:"cinema-collection-ce9ba",storageBucket:"cinema-collection-ce9ba.appspot.com",messagingSenderId:"597377281566",appId:"1:597377281566:web:c49563737b63b6c131080f"};firebase.initializeApp(e);const o=firebase.firestore(),t=document.querySelector(".form"),l=document.querySelector("#imageInput");function uploadImage(e){const l=firebase.storage().ref().child("images/"+e.name);l.put(e).then((e=>{console.log("Файл успішно завантажено!"),l.getDownloadURL().then((e=>{o.collection("films").add({title:t.querySelector("input[placeholder='Назва']").value,year:t.querySelector("input[placeholder='Рік']").value,description:t.querySelector("input[placeholder='Про фільм']").value,youtubeURL:t.querySelector("input[name='youtube']").value,imageURL:e}).then((e=>{console.log("Документ успішно додано з ID:",e.id),console.log("ID документа:",e.id)})).catch((e=>{console.error("Помилка при додаванні документа:",e)}))}))}))}t.addEventListener("submit",(function(e){e.preventDefault();uploadImage(l.files[0])}))}function bindModal(e,o,t){e=document.querySelector(e),o=document.querySelector(o),t=document.querySelector(t);const l=document.body;e.addEventListener("click",(e=>{e.preventDefault(),o.style.display="flex",l.classList.add("locked")})),t.addEventListener("click",(()=>{o.style.display="none",l.classList.remove("locked")})),o.addEventListener("click",(e=>{e.target===o&&(o.style.display="none",l.classList.remove("locked"))}))}bindModal(".modal__btn",".modal__wrapper",".modal__close");let searchBox=document.querySelector(".header__box"),modalLogin=document.querySelector(".modal__wrapper"),userEnter=document.querySelector(".header__user"),loginBox=document.querySelector(".header__login-box");function submitForm(){let e=document.getElementById("loginForm").elements.email.value,o=document.getElementById("loginForm").elements.password.value;firebase.auth().signInWithEmailAndPassword(e,o).then((e=>{let o=e.user;localStorage.setItem("userId",o.uid),localStorage.setItem("userEmail",o.email),searchBox.classList.add("show"),modalLogin.classList.add("hide"),userEnter.classList.add("hide"),loginBox.classList.add("show-box"),console.log("Успішний вхід:",o)})).catch((e=>{var o=e.code,t=e.message;console.error("Помилка входу:",o,t)}))}let userId=localStorage.getItem("userId"),userEmail=localStorage.getItem("userEmail");function logOut(){localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),searchBox.classList.remove("show"),modalLogin.classList.remove("hide"),userEnter.classList.remove("hide"),loginBox.classList.remove("show-box"),console.log("Користувач вийшов.")}userId&&userEmail?(searchBox.classList.add("show"),modalLogin.classList.add("hide"),userEnter.classList.add("hide"),loginBox.classList.add("show-box"),console.log("Користувач увійшов. ID:",userId,"Email:",userEmail)):console.log("Користувач не увійшов. Покажіть стандартний інтерфейс або виконайте інші дії.");